{% extends 'base.html' %}

{% block title %}{{ books.title }}{% endblock %}

{% block content %}
    <div class="text-center">
        <style>
            /* Specific styles for book_detail.html */
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                padding: 20px;
            }

            .cover-image {
                max-width: 200px;
                max-height: 300px;
                margin: 0 auto;
            }

            .like-button {
                cursor: pointer;
                text-decoration: none; 
                color: white;
                background-color: #ff5733; /* Specific color for book_detail.html */
                border: 1px solid #ff5733; /* Specific color for book_detail.html */
                padding: 8px 16px;
                border-radius: 4px;
                display: inline-block;
            }

            .like-button:hover {
                color: red;
            }

            .comment-form {
                margin-bottom: 20px;
            }

            .comment-input {
                width: calc(100% - 32px);
                padding: 8px;
                border: 1px solid #ddd;
                border-radius: 4px;
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                font-size: 14px;
                margin-bottom: 15px;
            }

            .submit-arrow {
                cursor: pointer;
                background-color: transparent;
                border: none;
                padding: 0;
                font-size: 20px;
                color: #555; /* Clear color for the arrow */
            }

            .comments-container {
                list-style: none;
                padding: 0;
                margin: 0;
                text-align: left;
                border-top: 1px solid #ddd; /* Add border to separate comments from other content */
            }

            .comment-item {
                margin-bottom: 20px; /* Increase spacing between comments */
                font-size: 16px;
                padding: 10px; /* Add padding for better readability */
                background-color: #f9f9f9; /* Light background color for each comment */
                border-radius: 8px; /* Rounded corners for comments */
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Add subtle shadow for depth */
            }

            .comment-item strong {
                color: #333; /* Darken username for better contrast */
                display: block; /* Display the username as a block element */
                margin-bottom: 5px; /* Add space between username and comment text */
            }

            .comment-text {
                color: #555; /* Color for the comment text */
            }

            .separator-line {
                border-top: 2px solid #ddd; /* Thicker separator line */
                margin: 30px 0; /* Increase margin for better spacing */
            }
        </style>

        <h2>{{ books.title }}</h2>
        <p><strong>Author:</strong> {{ books.authorName }}</p>
        <p><strong>Published Date:</strong> {{ books.formattedPublishedDate }}</p>
        <p><strong>Genre:</strong> {{ books.genreName }}</p>
        <p><strong>Description:</strong> {{ books.description }}</p>
        <img class="cover-image" src="{{ books.cover_image_url }}" alt="Book Cover">

        <a href="/likeBook/{{books.book_id}}" class="like-button">
            <span>&#x2661;</span> 
            Like
        </a>

        <form class="comment-form" action="/postComment/{{books.book_id}}" method="post">
            <input type="text" class="comment-input" name="comment_text" placeholder="Write a comment..." required>
            <button type="submit" class="submit-arrow">&#10148;</button>
        </form>

        <div class="separator-line"></div>

        <h3>Comments</h3>
        <ul class="comments-container">
            {% for comment in comments %}
            <li class="comment-item">
                <strong>{{ comment.userName }}</strong>
                <span class="comment-text">{{ comment.comment_text }}</span>
            </li>
            {% endfor %}
        </ul>
    </div>
{% endblock %}
